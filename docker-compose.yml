version: "3"

services:
  base:
    build:
      context: docker-common
      dockerfile: Dockerfile.jre8
    image: centos-base:jre8
    entrypoint: /bin/bash

  kafka-proxy:
    build:
      context: .
      dockerfile: docker/Dockerfile
      args:
        - SCALA_VERSION=2.12
        - KAFKA_PROXY_VERSION=0.9.0-SNAPSHOT
    image: kafka-proxy:0.9.0-SNAPSHOT
    depends_on:
      - base
